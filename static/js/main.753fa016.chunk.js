(this["webpackJsonptask-tracker"]=this["webpackJsonptask-tracker"]||[]).push([[0],{158:function(n,e,t){n.exports=t(277)},163:function(n,e,t){},178:function(n,e){},180:function(n,e){},196:function(n,e){},198:function(n,e){},277:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(35),u=t.n(i),c=(t(163),t(9)),o=t(11),s=t(5),l=t.n(s),d=t(8),f=t(10),p=t(102),v=new p.a({id:"task-tracker-tutorial-orcbr"}),b=r.createContext(void 0),m=function(n){var e=n.children,t=r.useRef(v),a=r.useState(v.currentUser),i=Object(f.a)(a,2),u=i[0],c=i[1];r.useEffect((function(){c(v.currentUser)}),[t.current.currentUser]);var o=function(){var n=Object(d.a)(l.a.mark((function n(e,t){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.emailPasswordAuth.registerUser(e,t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),s={id:"task-tracker-tutorial-orcbr",user:u,logIn:function(){var n=Object(d.a)(l.a.mark((function n(e,t){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=p.b.emailPassword(e,t),n.next=3,v.logIn(r);case 3:c(v.currentUser);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),logOut:function(){var n=Object(d.a)(l.a.mark((function n(){var e;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(e=v.currentUser)||void 0===e?void 0:e.logOut();case 2:c(v.currentUser);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),registerUser:o};return r.createElement(b.Provider,{value:s},e)},g=function(){var n=r.useContext(b);if(!n)throw new Error("You must call useRealmApp() inside of a <RealmApp />.");return n},O=t(7),k=t(41),j=function(n){var e=n.children,t=g(),a=t.id,i=t.user,u=r.useState(h(a,i)),c=Object(f.a)(u,2),o=c[0],s=c[1];return r.useEffect((function(){s(h(a,i))}),[a,i]),r.createElement(k.ApolloProvider,{client:o},e)};function h(n,e){var t="https://realm.mongodb.com/api/client/v2.0/app/".concat(n,"/graphql");return new k.ApolloClient({link:new k.HttpLink({uri:t,fetch:function(n){function e(e,t){return n.apply(this,arguments)}return e.toString=function(){return n.toString()},e}(function(){var n=Object(d.a)(l.a.mark((function n(t,r){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.headers||(r.headers={}),n.next=3,e.refreshCustomData();case 3:return a=Object(O.a)(Object(O.a)({},r),{},{headers:Object(O.a)(Object(O.a)({},r.headers),{},{Authorization:"Bearer ".concat(e.accessToken)})}),n.abrupt("return",fetch(t,a));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}),cache:new k.InMemoryCache})}var x=t(154),w=t(46),E=t.n(w),y=t(71),C=t.n(y),I=t(72),_=t.n(I),A=t(19),T=t(104),D=t.n(T);function S(){var n=Object(c.a)(["\n  margin-bottom: 16px;\n"]);return S=function(){return n},n}function P(){var n=Object(c.a)(["\n  margin: 0;\n  font-size: 32px;\n"]);return P=function(){return n},n}function M(){var n=Object(c.a)(["\n  padding: 8px;\n  color: black;\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n"]);return M=function(){return n},n}function z(){var n=Object(c.a)(["\n  height: 100vh;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n"]);return z=function(){return n},n}function L(){var n=Object(c.a)(["\n  background: none;\n  border: none;\n  font-size: 12px;\n  color: ",";\n"]);return L=function(){return n},n}function U(){var n=Object(c.a)(["\n  line-height: 18px;\n"]);return U=function(){return n},n}function R(){var n=Object(c.a)(["\n  margin-top: 8px;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n"]);return R=function(){return n},n}var N=function(){var n=g(),e=r.useState("login"),t=Object(f.a)(e,2),a=t[0],i=t[1],u=r.useState(""),c=Object(f.a)(u,2),o=c[0],s=c[1],p=r.useState(""),v=Object(f.a)(p,2),b=v[0],m=v[1];r.useEffect((function(){s(""),m(""),w({})}),[a]);var k=r.useState({}),j=Object(f.a)(k,2),h=j[0],w=j[1];function y(n){console.error(n);var e=function(n){var e,t=n.message.split(":"),r=t[t.length-1].trimStart();if(!r)return{status:"",message:""};var a=Object(x.a)(/(.+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]\(status ([0-9][0-9][0-9])/,{message:1,status:2}),i=r.match(a),u=null!==(e=null===i||void 0===i?void 0:i.groups)&&void 0!==e?e:{},c=u.status,o=u.message;return{status:c,message:o}}(n),t=e.status;switch(e.message||t){case"invalid username":w((function(n){return Object(O.a)(Object(O.a)({},n),{},{email:"Invalid email address."})}));break;case"invalid username/password":case"invalid password":case"401":w((function(n){return Object(O.a)(Object(O.a)({},n),{},{password:"Incorrect password."})}));break;case"name already in use":case"409":w((function(n){return Object(O.a)(Object(O.a)({},n),{},{email:"Email is already registered."})}));break;case"password must be between 6 and 128 characters":case"400":w((function(n){return Object(O.a)(Object(O.a)({},n),{},{password:"Password must be between 6 and 128 characters."})}))}}var I=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((function(n){return Object(O.a)(Object(O.a)({},n),{},{password:void 0})})),e.prev=1,e.next=4,n.logIn(o,b);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),y(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=D.a.isEmail(o),w((function(n){return Object(O.a)(Object(O.a)({},n),{},{password:void 0})})),!t){e.next=16;break}return e.prev=3,e.next=6,n.registerUser(o,b);case 6:return e.next=8,I();case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(3),y(e.t0);case 14:e.next=17;break;case 16:w((function(n){return Object(O.a)(Object(O.a)({},n),{},{email:"Email is invalid."})}));case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(q,null,r.createElement(_.a,null,r.createElement(G,null,r.createElement(J,null,r.createElement(H,null,"login"===a?"Log In":"Register an Account")),r.createElement(J,null,r.createElement(C.a,{type:"email",label:"Email",placeholder:"your.email@example.com",onChange:function(n){w((function(n){return Object(O.a)(Object(O.a)({},n),{},{email:void 0})})),s(n.target.value)},value:o,state:h.email?"error":D.a.isEmail(o)?"valid":"none",errorMessage:h.email})),r.createElement(J,null,r.createElement(C.a,{type:"password",label:"Password",onChange:function(n){m(n.target.value)},value:b,state:h.password?"error":h.password?"valid":"none",errorMessage:h.password})),"login"===a?r.createElement(E.a,{variant:"primary",onClick:function(){return I()}},"Log In"):r.createElement(E.a,{variant:"primary",onClick:function(){return A()}},"Register"),r.createElement($,null,r.createElement(F,null,"login"===a?"Don't have an account?":"Already have an account?"),r.createElement(B,{onClick:function(n){n.preventDefault(),i((function(n){return"login"===n?"register":"login"}))}},"login"===a?"Register one now.":"Log in instead.")))))};var $=o.a.div(R()),F=o.a.span(U()),B=o.a.button(L(),A.uiColors.green.dark2),q=o.a.div(z()),G=o.a.div(M()),H=o.a.h1(P()),J=o.a.div(S());function Q(){var n=Object(c.a)(["\n  padding-bottom: 8px;\n"]);return Q=function(){return n},n}function W(){var n=Object(c.a)(["\n  width: 100%;\n  height: 64px;\n  background: ",";\n  font-size: 16px;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 0;\n"]);return W=function(){return n},n}var Y=function(){var n=g(),e=n.user,t=n.logOut,a=null===e||void 0===e?void 0:e.profile,i=null===a||void 0===a?void 0:a.email;return r.createElement(K,null,r.createElement(V,null,i),r.createElement(E.a,{size:"xsmall",onClick:function(){return t()}},"Logout"))},K=o.a.div(W(),A.uiColors.gray.base),V=o.a.div(Q()),X=t(20),Z=t(90),nn=t(22),en=t(65),tn=t.n(en);function rn(){var n=Object(c.a)(["\n    query GetUser($userId: String!) {\n  user(query: {_id: $userId}) {\n    _id\n    name\n    image\n  }\n}\n    "]);return rn=function(){return n},n}function an(){var n=Object(c.a)(["\n    mutation DeleteTask($taskId: ObjectId!) {\n  deletedTask: deleteOneTask(query: {_id: $taskId}) {\n    _id\n    name\n    status\n    assignee {\n      _id\n      name\n      image\n    }\n  }\n}\n    "]);return an=function(){return n},n}function un(){var n=Object(c.a)(["\n    mutation UpdateTask($taskId: ObjectId!, $updates: TaskUpdateInput!) {\n  task: updateOneTask(query: {_id: $taskId}, set: $updates) {\n    _id\n    name\n    status\n    assignee {\n      _id\n      name\n      image\n    }\n  }\n}\n    "]);return un=function(){return n},n}function cn(){var n=Object(c.a)(["\n    mutation AddTask($task: TaskInsertInput!) {\n  task: insertOneTask(data: $task) {\n    _id\n    name\n    status\n    assignee {\n      _id\n      name\n      image\n    }\n  }\n}\n    "]);return cn=function(){return n},n}function on(){var n=Object(c.a)(["\n    query GetAllTasks {\n  tasks {\n    _id\n    name\n    status\n    assignee {\n      _id\n      name\n      image\n    }\n  }\n}\n    "]);return on=function(){return n},n}var sn=tn()(on());var ln=tn()(cn());var dn=tn()(un());var fn=tn()(an());var pn,vn=tn()(rn());function bn(){var n,e=r.useState([]),t=Object(f.a)(e,2),a=t[0],i=t[1],u=(n={onCompleted:function(n){(null===n||void 0===n?void 0:n.tasks)&&i(n.tasks)}},k.useQuery(sn,n)).loading,c=function(n){return k.useMutation(ln,n)}(),o=Object(f.a)(c,1)[0],s=function(n){return k.useMutation(dn,n)}(),p=Object(f.a)(s,1)[0],v=function(n){return k.useMutation(fn,n)}(),b=Object(f.a)(v,1)[0],m=function(){var n=Object(d.a)(l.a.mark((function n(e){var t,r,u,c,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={task:{status:e.status,name:e.name,_partition:"My Project"}},e.assignee&&(t.task.assignee={link:e.assignee._id}),r=Object(nn.a)(a),n.prev=3,n.next=6,o({variables:t});case 6:c=n.sent,s=null===(u=c.data)||void 0===u?void 0:u.task,i([].concat(Object(nn.a)(a),[s])),n.next=15;break;case 11:throw n.prev=11,n.t0=n.catch(3),i(r),new Error("Unable to add task: ".concat(n.t0));case 15:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}(),g=function(){var n=Object(d.a)(l.a.mark((function n(e,t){var r,u,c,o,s,d,f,v;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c={taskId:e,updates:{status:null!==(r=null===t||void 0===t?void 0:t.status)&&void 0!==r?r:void 0,name:null!==(u=null===t||void 0===t?void 0:t.name)&&void 0!==u?u:void 0,assignee:t.assignee?{link:t.assignee._id}:void 0}},o=function(n){return n._id===e},s=Object(nn.a)(a),s.find(o)){n.next=6;break}return n.abrupt("return");case 6:return n.prev=6,n.next=9,p({variables:c});case 9:f=n.sent,v=null===(d=f.data)||void 0===d?void 0:d.task,i([].concat(Object(nn.a)(a.filter((function(n){return!o(n)}))),[v])),n.next=18;break;case 14:throw n.prev=14,n.t0=n.catch(6),i(s),new Error("Unable to update task");case 18:case"end":return n.stop()}}),n,null,[[6,14]])})));return function(e,t){return n.apply(this,arguments)}}(),O=function(){var n=Object(d.a)(l.a.mark((function n(e){var t,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={taskId:e._id},r=Object(nn.a)(a),n.prev=2,n.next=5,b({variables:t});case 5:i(Object(nn.a)(a.filter((function(n){return n._id!==e._id})))),n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(2),i(r),new Error("Unable to delete task");case 12:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}();return{tasks:a,loading:u,actions:{addTask:m,updateTask:g,deleteTask:O}}}function mn(){var n=Object(c.a)(["\n  font-size: 24px;\n  margin: 0;\n  text-align: left;\n"]);return mn=function(){return n},n}function gn(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]);return gn=function(){return n},n}function On(){var n=Object(c.a)(["\n  font-size: 16px;\n"]);return On=function(){return n},n}function kn(){var n=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  padding-right: 16px;\n  border-radius: 500px;\n  border: 0.5px solid transparent;\n"]);return kn=function(){return n},n}function jn(){var n=Object(c.a)(["\n  width: 100%;\n"]);return jn=function(){return n},n}function hn(n){var e=n.task,t=e.assignee,a=e.name,i=e.status,u=En.get(i),c=wn.get(i);return r.createElement(r.Fragment,null,r.createElement(Sn,null,r.createElement(_n,{user:t}),r.createElement(Mn,{backgroundColor:null===u||void 0===u?void 0:u.background,textColor:null===u||void 0===u?void 0:u.text},c)),r.createElement(Sn,null,r.createElement(Pn,null,r.createElement("span",null,a))))}function xn(n){var e=n.draft,t=n.draftActions,a=e.status,i=e.name,u=t.updateDraft,c=t.deleteDraft,o=t.saveDraft,s=En.get(a),f=wn.get(a);return r.createElement(r.Fragment,null,r.createElement(Sn,null,r.createElement(Mn,{backgroundColor:null===s||void 0===s?void 0:s.background,textColor:null===s||void 0===s?void 0:s.text},f)),r.createElement(Sn,null,r.createElement(yn,{placeholder:"Enter a task...",onChange:function(n){u(Object(O.a)(Object(O.a)({},e),{},{name:n.target.value}))},value:i})),r.createElement(Sn,null,r.createElement(In,{onClick:function(){c()}},"Delete"),r.createElement(Cn,{onClick:Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o();case 2:case"end":return n.stop()}}),n)}))),disabled:!e.name},"Add")))}!function(n){n.Complete="COMPLETE",n.Open="OPEN",n.Inprogress="INPROGRESS"}(pn||(pn={}));var wn=new Map([[pn.Open,"Open"],[pn.Inprogress,"In Progress"],[pn.Complete,"Complete"]]),En=new Map([[pn.Open,{background:A.uiColors.blue.base,text:A.uiColors.gray.light3}],[pn.Inprogress,{background:A.uiColors.yellow.base,text:A.uiColors.gray.dark2}],[pn.Complete,{background:A.uiColors.green.base,text:A.uiColors.gray.light3}]]),yn=Object(o.a)(C.a)(jn()),Cn=function(n){return r.createElement(E.a,Object.assign({variant:"primary"},n),"Add")},In=function(n){return r.createElement(E.a,Object.assign({variant:"danger"},n),"Delete")};function _n(n){var e=n.user,t=(null===e||void 0===e?void 0:e.image)||"./no-avatar.png",a=(null===e||void 0===e?void 0:e.name)||"No assignee";return r.createElement(An,null,r.createElement(Dn,{src:t}),r.createElement(Tn,null,a))}var An=o.a.div(kn()),Tn=o.a.div(On()),Dn=o.a.div((function(n){return"\n    background-image: url('".concat(n.src,"');\n    /* make a square container */\n    width: 24px;\n    height: 24px;\n    /* fill the container, preserving aspect ratio, and cropping to fit */\n    background-size: cover;\n    /* center the image vertically and horizontally */\n    background-position: top center;\n    /* round the edges to a circle with border radius 1/2 container size */\n    border-radius: 50%;\n    margin-right: 8px;\n")})),Sn=o.a.div(gn()),Pn=o.a.div(mn()),Mn=o.a.div((function(n){return"\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 12px;\n  text-align: center;\n  border-radius: 500px;\n  background-color: ".concat(n.backgroundColor||"lightgray",";\n  padding: 8px 12px;\n  margin-left: auto;\n  color: ").concat(n.textColor||"black",";\n  user-select: none;\n")}));function zn(){var n=Object(c.a)(["\n  padding: 8px;\n  color: black;\n"]);return zn=function(){return n},n}function Ln(n){var e=n.task;return r.createElement(_.a,null,r.createElement(Rn,null,r.createElement(hn,{task:e})))}function Un(n){var e=n.draft,t=n.draftActions;return r.createElement(_.a,null,r.createElement(Rn,null,r.createElement(xn,{draft:e,draftActions:t})))}var Rn=o.a.div(zn()),Nn=t(155);function $n(n,e){var t,a=r.useState(null),i=Object(f.a)(a,2),u=i[0],c=i[1],o=r.useState(null),s=Object(f.a)(o,2),p=s[0],v=s[1];t={variables:{userId:n.id},onCompleted:function(n){var e=n.user;e&&v(e)}},k.useQuery(vn,t);var b={createDraft:function(n){n&&c(n)},updateDraft:function(n){c(n)},deleteDraft:function(){c(null)},saveDraft:function(){var n=Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=4;break}return n.next=3,e.addTask(Object(O.a)(Object(O.a)({},u),{},{_id:new Nn.a.ObjectId,assignee:p,_partition:"My Project"}));case 3:c(null);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()};return[u,b]}var Fn=t(24),Bn=t(283),qn=t(282),Gn=t(280),Hn=t(281);function Jn(n,e){return n.status===e}var Qn=function(n){return Jn(n,pn.Open)},Wn=function(n){return Jn(n,pn.Inprogress)},Yn=function(n){return Jn(n,pn.Complete)},Kn=function(n,e){return n.find((function(n){return n._id===e}))},Vn=function(n){return Bn.a(qn.a("status",n))};function Xn(n){var e=r.useState(function(n){var e=n.filter(Qn),t=n.filter(Wn),r=n.filter(Yn);return[{status:pn.Open,displayName:"Open",tasks:e,displayOrder:e.map((function(n){return n._id}))},{status:pn.Inprogress,displayName:"In Progress",tasks:t,displayOrder:t.map((function(n){return n._id}))},{status:pn.Complete,displayName:"Complete",tasks:r,displayOrder:r.map((function(n){return n._id}))}]}(n)),t=Object(f.a)(e,2),a=t[0],i=t[1],u=r.useCallback((function(n){i((function(e){return e.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{tasks:n.filter((function(n){return n.status===e.status}))})}))}))}),[]),c=function(n){var e=n.lists,t=n.setLists,a=r.useCallback((function(n,r){var a=Vn(r)(e);if(a){var i=[].concat(Object(nn.a)(a.displayOrder),Object(nn.a)(n.map((function(n){return n._id}))));t((function(e){return e.map((function(e){return r!==e.status?e:Object(O.a)(Object(O.a)({},a),{},{tasks:[].concat(Object(nn.a)(a.tasks),Object(nn.a)(n)),displayOrder:Array.from(new Set(i))})}))}))}}),[e,t]),i=r.useCallback((function(n,r,a){var i=Vn(r)(e);if(i){var u=[];u=a?Gn.a(a,n._id,i.displayOrder):[].concat(Object(nn.a)(i.displayOrder),[n._id]),t((function(e){return e.map((function(e){return r!==e.status?e:Object(O.a)(Object(O.a)({},i),{},{tasks:[].concat(Object(nn.a)(i.tasks),[n]),displayOrder:Array.from(new Set(u))})}))}))}}),[e,t]),u=r.useCallback((function(n,r){var a=Vn(r)(e);if(a){var i=a.displayOrder.filter((function(e){return e!==n._id}));t((function(e){return e.map((function(e){return r!==e.status?e:Object(O.a)(Object(O.a)({},a),{},{tasks:a.tasks.filter((function(e){return e._id!==n._id})),displayOrder:Array.from(new Set(i))})}))}))}}),[e,t]),c=r.useCallback((function(n,e,t,r,a){u(n,e),i(n,r,a)}),[u,i]),o=r.useCallback((function(n,r,a){var i=Vn(r)(e);if(i){var u=i.displayOrder.findIndex((function(e){return e===n._id})),c=Hn.a(u,a,i.displayOrder);t((function(n){return n.map((function(n){return r!==n.status?n:Object(O.a)(Object(O.a)({},i),{},{displayOrder:Array.from(new Set(c))})}))}))}}),[e,t]);return{addTasksToList:a,removeTaskFromList:u,moveTask:c,moveTaskInColumn:o}}({lists:a,setLists:i}),o=c.addTasksToList,s=c.removeTaskFromList,l=c.moveTask,d=c.moveTaskInColumn,p=r.useRef();r.useEffect((function(){if(p.current){var e,t=p.current,r=n,i=r.filter((function(n){return!Boolean(Kn(t,n._id))})),c=t.filter((function(n){return!Boolean(Kn(r,n._id))})),d=r.filter((function(n){var e=Boolean(Kn(i,n._id)),r=Boolean(Kn(c,n._id));return!e&&!r&&Kn(t,n._id).status!==n.status}));if(i.length||c.length||d.length)Object.entries(i.reduce((function(n,e){return Object(O.a)(Object(O.a)({},n),{},Object(Fn.a)({},e.status,[].concat(Object(nn.a)(n[e.status]),[e])))}),(e={},Object(Fn.a)(e,pn.Open,[]),Object(Fn.a)(e,pn.Inprogress,[]),Object(Fn.a)(e,pn.Complete,[]),e))).forEach((function(n){var e=Object(f.a)(n,2),t=e[0],r=e[1];o(r,t)})),c.forEach((function(n){s(n._id,n.status)})),d.forEach((function(n){var e=t.find((function(e){return e._id===n._id})).status,r=a.find((function(n){return n.status===e})).displayOrder.findIndex((function(e){return e===n._id})),i=n.status;l(n,e,r,i)})),u(n)}p.current=n}),[n,a,o,s,l,u]);var v=function(e){var t=e.draggableId,r=e.source,a=e.destination;if(a){var i=Kn(n,t),u=r.droppableId,c=r.index,o=a.droppableId,s=a.index;u===o?c!==s&&d(i,ie.get(u)||pn.Open,s):l(i,ie.get(u),c,ie.get(o),s)}};return{lists:a,actions:{handleDragAndDrop:v,undoDragAndDrop:function(n){var e=null===n||void 0===n?void 0:n.destination,t=null===n||void 0===n?void 0:n.source;e&&t&&v(Object(O.a)(Object(O.a)({},n),{},{source:e,destination:t}))}}}}function Zn(){var n=Object(c.a)(["\n  padding: 8px;\n  border: none;\n  background: ",";\n  background: transparent;\n  border-radius: 4px;\n  font-size: 16px;\n  text-align: left;\n  font-weight: bold;\n  color: ",";\n  :hover {\n    background: ",";\n  }\n"]);return Zn=function(){return n},n}function ne(){var n=Object(c.a)(["\n  :not(:last-child) {\n    margin-bottom: 16px;\n  }\n"]);return ne=function(){return n},n}function ee(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 24px;\n  background: ",";\n  border-radius: 4px;\n  overflow-y: scroll;\n  max-height: 80vh;\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]);return ee=function(){return n},n}function te(){var n=Object(c.a)(["\n  margin: 0;\n  margin-bottom: 16px;\n  font-size: 32px;\n  color: ",";\n"]);return te=function(){return n},n}function re(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  max-width: 512px;\n  margin: 10px 10px;\n"]);return re=function(){return n},n}function ae(){var n=Object(c.a)(["\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          padding-top: 0px;\n        "]);return ae=function(){return n},n}var ie=new Map([["OPEN",pn.Open],["INPROGRESS",pn.Inprogress],["COMPLETE",pn.Complete]]);function ue(n){var e=n.tasks,t=n.taskActions,r=n.showDetail,a=Xn(e),i=a.lists,u=a.actions;return Object(X.c)(ce,{onDragEnd:function(n){var e=n.draggableId,r=n.destination,a=(r=void 0===r?{droppableId:null}:r).droppableId;if(a){u.handleDragAndDrop(n);var i=ie.get(a);i&&t.updateTask(e,{status:ie.get(i)}).catch((function(e){u.undoDragAndDrop(n)}))}}},i.map((function(n){var e=n.status,a=n.displayName,i=n.tasks,u=n.displayOrder;return Object(X.c)(oe,{key:e,status:e,displayName:a,tasks:u.map((function(n){var e;return null!==(e=i.find((function(e){return e._id===n})))&&void 0!==e?e:void 0})).filter(Boolean),taskActions:t,showDetail:r})})))}var ce=function(n){var e=n.onDragEnd,t=n.children;return Object(X.c)(Z.a,{onDragEnd:e},Object(X.c)("div",{css:Object(X.b)(ae())},t))};function oe(n){var e=g().user;if(!e)throw new Error("TaskList may only render with a logged in user.");var t=n.status,r=n.displayName,a=n.tasks,i=n.taskActions,u=n.showDetail,c=$n(e,i),o=Object(f.a)(c,2),s=o[0],l=o[1];return Object(X.c)(Z.c,{droppableId:t},(function(n){return Object(X.c)(se,Object.assign({ref:n.innerRef},n.droppableProps),Object(X.c)(de,null,Object(X.c)(le,null,r),a.map((function(n,e){return Object(X.c)(pe,{key:n._id,id:n._id,index:e,onClick:function(){u(n)}},Object(X.c)(Ln,{task:n}))})),n.placeholder,s&&Object(X.c)(fe,null,Object(X.c)(Un,{draft:s,draftActions:l})),!s&&Object(X.c)(ve,{onClick:function(){var n;return l.createDraft({status:t,name:"",assignee:null!==(n=null===e||void 0===e?void 0:e.id)&&void 0!==n?n:""})}},"+ Add Task")))}))}var se=o.a.div(re()),le=o.a.h2(te(),A.uiColors.black),de=o.a.div(ee(),A.uiColors.gray.light1),fe=o.a.div(ne()),pe=function(n){var e=n.id,t=n.index,r=n.children,a=n.onClick;return Object(X.c)(Z.b,{draggableId:e,index:t},(function(n){return Object(X.c)(fe,Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{onClick:a}),r)}))},ve=o.a.button(Zn(),A.uiColors.white,A.uiColors.gray.dark2,A.uiColors.gray.light2),be=t(156),me=t.n(be);function ge(){var n=Object(c.a)(["\n  width: 100%;\n  margin: 8px 0;\n"]);return ge=function(){return n},n}function Oe(){var n=Object(c.a)(["\n  > div {\n    top: 20%;\n  }\n"]);return Oe=function(){return n},n}function ke(n){var e,t=n.task,a=n.taskActions,i=n.closeModal,u=g().user,c=function(){var n=Object(d.a)(l.a.mark((function n(e){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.updateTask(t._id,{status:e});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(){var n=Object(d.a)(l.a.mark((function n(e){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.deleteTask(e);case 4:i();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.createElement(je,{size:"small",open:Boolean(t),shouldClose:function(){return i(),!0}},t&&r.createElement(r.Fragment,null,r.createElement(hn,{task:t}),(null===t||void 0===t?void 0:t.status)!==pn.Open&&r.createElement(he,{onClick:function(){return c(pn.Open)}},"Move to Open"),(null===t||void 0===t?void 0:t.status)!==pn.Inprogress&&r.createElement(he,{onClick:function(){return c(pn.Inprogress)}},"Move to In Progress"),(null===t||void 0===t?void 0:t.status)!==pn.Complete&&r.createElement(he,{onClick:function(){return c(pn.Complete)}},"Move to Complete"),(null===(e=t.assignee)||void 0===e?void 0:e._id)===(null===u||void 0===u?void 0:u.id)&&r.createElement(he,{variant:"danger",onClick:function(){return o(t)}},"Delete this task")))}var je=Object(o.a)(me.a)(Oe()),he=Object(o.a)(E.a)(ge());function xe(){var n=Object(c.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n"]);return xe=function(){return n},n}var we=function(){var n=bn(),e=n.tasks,t=n.loading,a=n.actions,i=function(n){var e=r.useState(null),t=Object(f.a)(e,2),a=t[0],i=t[1],u=r.useCallback((function(n){if(a){var e=n.find((function(n){return n._id===a._id}));e&&i(e)}}),[a]);function c(){i(null)}return r.useEffect((function(){u(n)}),[n,u]),[function(n){var e=n.taskActions;return r.createElement(ke,{key:null===a||void 0===a?void 0:a._id,task:a,taskActions:e,closeModal:c})},{show:function(n){i(n)},close:c}]}(e),u=Object(f.a)(i,2),c=u[0],o=u[1].show;return r.createElement(Ee,null,r.createElement(Y,null),!t&&r.createElement(ue,{tasks:e,taskActions:a,showDetail:o}),r.createElement(c,{taskActions:a}))},Ee=o.a.div(xe());function ye(){var n=Object(c.a)(["\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n"]);return ye=function(){return n},n}var Ce=function(n){return a.a.createElement(m,null,a.a.createElement(Ie,null,a.a.createElement(_e,null)))},Ie=o.a.div(ye());function _e(){var n=g();return n?n.user?a.a.createElement(j,null,a.a.createElement(we,null)):a.a.createElement(N,null):a.a.createElement("div",null,"Loading")}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[158,1,2]]]);
//# sourceMappingURL=main.753fa016.chunk.js.map